{
  "id": 3058,
  "date": "2016-09-06T15:06:00",
  "date_gmt": "2016-09-06T15:06:00",
  "guid": {
    "rendered": "http://ronvalstar.nl/?p=3058"
  },
  "modified": "2017-01-14T13:32:06",
  "modified_gmt": "2017-01-14T13:32:06",
  "slug": "experiment-radialdifference",
  "status": "publish",
  "type": "post",
  "link": "https://ronvalstar.nl/experiment-radialdifference",
  "title": {
    "rendered": "Experiment: difference with radial gradients in canvas"
  },
  "content": {
    "rendered": "<p>Another pretty simple idea with a really cool result (above). These are radial gradients drawn on top of each other with a &#8216;difference&#8217; blend mode.</p>\n<p><!--more--></p>\n<p>Way way way back I read a blog post on how to create crumpled paper in Photoshop (I think <a href=\"http://www.myjanee.com/tuts/crumple/crumple.htm\">it was this one</a>). A few years back I used the technique <a href=\"https://www.filterforge.com/filters/8780.html\">in Filter Forge</a>. This year I was on vacation, in a garden, under a tree, looking out over the sea. And because I&#8217;m a coding addict I thought I&#8217;d create an interactive version, on my phone. Coding on a phone is slow and feels a bit 1999 in terms of error feedback. But I had all the time in the world.</p>\n<p>The idea is simple, but there is a bit more to it than that of course. The gradients attract each other, repel each other, and move around a bit. A nice emergence is that it just keeps on moving without any random motion used.</p>\n<p>The coloring is random but always from black to a full color, so the centers are #0FF, #F00, #FFF etc. And because we&#8217;re drawing the difference (<code>context.globalCompositeOperation = 'difference';</code>) we get all the colors in between.</p>\n<p>When I started I thought I would draw a lot more particles than the 17 that are in there now, but after tweaking it just looks nicer with 17. So for optimization overkill I used an object chain of prototyped particles (=gradients).</p>\n<h3>Prototype versus closure</h3>\n<p>Object prototypes have the advantage that the instance methods are only created once (in memory), as opposed to methods added to object literals. Normally I would code it without prototypes using closures because I don&#8217;t like -this-. This would surmount to roughly the same memory wise, but you would have extra scope lookups <a href=\"http://marijnhaverbeke.nl/blog/closure-vs-object-performance.html\">which are a bit slower</a>.</p>\n<h3>Object chaining</h3>\n<p>Another performance design pattern is object chaining. Instead of having an array with instances each instance has a reference to the next one. Nothing fancy, just a tad faster. Although I wonder with these present day engines&#8230; but jsperf is still offline.</p>\n<p>Anyway, here&#8217;s the code. You&#8217;ll notice I&#8217;ve separated the actual drawing from the math calculations. Time willing, I&#8217;m going alter it to a version that uses shaders (here&#8217;s <a href=\"https://www.shadertoy.com/view/4lyGzh\">a rough</a>). </p>\n<pre><code data-language=\"javascript\" data-src=\"/wordpress/wp-content/themes/sjeiti/static/experiment/radialdifference.js\"></code></pre>\n",
    "protected": false
  },
  "excerpt": {
    "rendered": "<p>Another pretty simple idea with a really cool result (above). These are radial gradients drawn on top of each other with a &#8216;difference&#8217; blend mode.</p>\n",
    "protected": false
  },
  "author": 2,
  "featured_media": 3069,
  "comment_status": "open",
  "ping_status": "open",
  "sticky": false,
  "template": "",
  "format": "standard",
  "meta": [],
  "categories": [
    5,
    13
  ],
  "tags": [
    274,
    235,
    250
  ],
  "terms": {
    "post_tag": [
      {
        "term_id": 274,
        "name": "Javascript",
        "slug": "javascript",
        "term_group": 0,
        "term_taxonomy_id": 69,
        "taxonomy": "post_tag",
        "description": "",
        "parent": 0,
        "count": 53,
        "filter": "raw",
        "term_order": "0",
        "ID": 274
      },
      {
        "term_id": 235,
        "name": "cool shit",
        "slug": "cool-shit",
        "term_group": 0,
        "term_taxonomy_id": 254,
        "taxonomy": "post_tag",
        "description": "",
        "parent": 0,
        "count": 24,
        "filter": "raw",
        "term_order": "0",
        "ID": 235
      },
      {
        "term_id": 250,
        "name": "particles",
        "slug": "particles",
        "term_group": 0,
        "term_taxonomy_id": 281,
        "taxonomy": "post_tag",
        "description": "",
        "parent": 0,
        "count": 8,
        "filter": "raw",
        "term_order": "0",
        "ID": 250
      }
    ],
    "category": [
      {
        "term_id": 5,
        "name": "code",
        "slug": "code",
        "term_group": 0,
        "term_taxonomy_id": 5,
        "taxonomy": "category",
        "description": "",
        "parent": 170,
        "count": 71,
        "filter": "raw",
        "term_order": "0",
        "ID": 5
      },
      {
        "term_id": 13,
        "name": "Javascript",
        "slug": "javascript",
        "term_group": 0,
        "term_taxonomy_id": 13,
        "taxonomy": "category",
        "description": "",
        "parent": 5,
        "count": 52,
        "filter": "raw",
        "term_order": "0",
        "ID": 13
      }
    ]
  },
  "_links": {
    "self": [
      {
        "href": "https://ronvalstar.nl/api/wp/v2/posts/3058"
      }
    ],
    "collection": [
      {
        "href": "https://ronvalstar.nl/api/wp/v2/posts"
      }
    ],
    "about": [
      {
        "href": "https://ronvalstar.nl/api/wp/v2/types/post"
      }
    ],
    "author": [
      {
        "embeddable": true,
        "href": "https://ronvalstar.nl/api/wp/v2/users/2"
      }
    ],
    "replies": [
      {
        "embeddable": true,
        "href": "https://ronvalstar.nl/api/wp/v2/comments?post=3058"
      }
    ],
    "version-history": [
      {
        "count": 15,
        "href": "https://ronvalstar.nl/api/wp/v2/posts/3058/revisions"
      }
    ],
    "predecessor-version": [
      {
        "id": 3281,
        "href": "https://ronvalstar.nl/api/wp/v2/posts/3058/revisions/3281"
      }
    ],
    "wp:featuredmedia": [
      {
        "embeddable": true,
        "href": "https://ronvalstar.nl/api/wp/v2/media/3069"
      }
    ],
    "wp:attachment": [
      {
        "href": "https://ronvalstar.nl/api/wp/v2/media?parent=3058"
      }
    ],
    "wp:term": [
      {
        "taxonomy": "category",
        "embeddable": true,
        "href": "https://ronvalstar.nl/api/wp/v2/categories?post=3058"
      },
      {
        "taxonomy": "post_tag",
        "embeddable": true,
        "href": "https://ronvalstar.nl/api/wp/v2/tags?post=3058"
      }
    ],
    "curies": [
      {
        "name": "wp",
        "href": "https://api.w.org/{rel}",
        "templated": true
      }
    ]
  },
  "featured_media_file": "radialdifference-1.jpg"
}